plugins {
    id 'java-gradle-plugin'
    id 'groovy'
}

gradlePlugin {
    plugins {
        groovyCpsPlugin {
            id = 'com.blackbuild.jenkins.groovy-cps'
            implementationClass = 'com.blackbuild.groovycps.plugin.GroovyCpsPlugin'
        }
        jenkinsShareLibPlugin {
            id = 'com.blackbuild.jenkins.shared-lib'
            implementationClass = 'com.blackbuild.groovycps.jenkins.SharedLibPlugin'
        }
    }
}

dependencies {
    implementation project(":ast-checker")
    testImplementation(libs.bundles.spock) {
        exclude group: 'org.codehaus.groovy'
    }
    testImplementation "org.jetbrains:annotations:16.0.2"
}

test {
    useJUnitPlatform()
}

license {
    exclude("**/.groovyCompile.groovy")
}
